(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var a in t)e.o(t,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=window.wp.blocks,t=window.wp.i18n,a=window.wp.data,r=window.wp.coreData,s=window.wp.components,l=window.wp.blockEditor,o=window.wp.apiFetch;var i=e.n(o);const m=window.wp.element,p=window.ReactJSXRuntime,u=JSON.parse('{"UU":"sim/projectmeta"}');(0,n.registerBlockType)(u.UU,{icon:"calendar",edit:()=>{const e=(0,l.useBlockProps)(),n=(0,a.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[o,u]=(0,r.useEntityProp)("postType",n,"meta"),[c,_]=(0,m.useState)([]),w=o.number,g=o.url,d=o.ministry,h=null==o.manager||""==o.manager?{}:JSON.parse(o.manager);(0,m.useEffect)((()=>{!async function(){let e=(await i()({path:"/sim/v2/projects/ministries?slug=ministry"})).map((e=>({label:e.post_title,value:e.ID})));e.unshift({label:(0,t.__)("Please select a ministry","sim"),value:""}),_(e)}()}),[]);const b=(e,n)=>{let t={...o};if(n.startsWith("manager")){let t=n.split("-")[1];n="manager";let a={};""!=h&&(a={...h}),a[t]=e,e=JSON.stringify(a)}t[n]=e,u(t)};return(0,p.jsxs)("div",{...e,children:[(0,p.jsx)("h2",{children:(0,t.__)("Project Details")}),(0,p.jsx)(s.__experimentalInputControl,{isPressEnterToChange:!0,label:(0,t.__)("Project number"),value:w,onChange:e=>b(e,"number")}),(0,p.jsx)(s.__experimentalInputControl,{isPressEnterToChange:!0,label:(0,t.__)("Manager name"),value:h.name,onChange:e=>b(e,"manager-name")}),(0,p.jsx)(s.__experimentalInputControl,{isPressEnterToChange:!0,label:(0,t.__)("Phone number"),value:h.tel,onChange:e=>b(e,"manager-tel")}),(0,p.jsx)(s.__experimentalInputControl,{isPressEnterToChange:!0,label:(0,t.__)("E-mail address"),value:h.email,onChange:e=>b(e,"manager-email")}),(0,p.jsx)(s.__experimentalInputControl,{isPressEnterToChange:!0,label:(0,t.__)("Website url"),value:g,onChange:e=>b(e,"url")}),(0,p.jsx)(s.SelectControl,{label:"Ministry",value:d,options:c,onChange:e=>b(e,"ministry"),__nextHasNoMarginBottom:!0})]})},save:()=>null})})();